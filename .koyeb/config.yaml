name: sotti-music-api
services:
  - name: sotti-music-api
    type: web
    build:
      type: docker
    ports:
      - port: 8080
        protocol: http
    env:
      - MONGODB_URI
      - SPRING_PROFILES_ACTIVE=production
    health_check:
      http:
        path: /actuator/health
        port: 8080
    scaling:
      min: 1
      max: 3